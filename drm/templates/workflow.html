{% extends "base1.html" %}



{% block content %}


    <div style="height:10px"></div>


    <div class="portlet-body">
        <div class="row">
            <div class="col-md-12">
                <div class="portlet light bordered">

                    <div class="portlet-body form">
                        <button type="button" id="save" name="save" class="btn blue">保存</button>
                        <button type="button" id="load" name="load" class="btn blue">重新载入</button>
                        <button type="button" id="return" name="return" class="btn blue">返回列表</button>

                        <div style="width: 100%; display: flex; justify-content: space-between">
                            <div style="width: 200px; background-color: whitesmoke; border: solid 1px black">
                                <div id="accordion">
                                    <h4><b>基础控件</b></h4>
                                    <div>
                                        <div id="myPaletteSmall"
                                             style="margin-left: -20px;width: 180px; height: 600px"></div>
                                    </div>
                                    <h4><b>组件</b></h4>
                                    <div>
                                        <div id="myPaletteTall"
                                             style="margin-left: -20px;width: 180px; height: 600px"></div>
                                    </div>
                                    <h4><b>子流程</b></h4>
                                    <div>
                                        <div id="myPaletteWide"
                                             style="margin-left: -20px;width: 180px; height: 600px"></div>
                                    </div>
                                </div>
                            </div>
                            <div id="myDiagramDiv" style="flex-grow: 1; height: 770px; border: solid 1px black"></div>
                            <div style="width: 400px; border: solid 1px black">
                                <form class="bs-example form-horizontal activate-form">{% csrf_token %}
                                    <div id="div_workflow" hidden class="tab " role="tabpanel">
                                        <ul id="navtabs1" class="nav nav-tabs ">
                                            <li class="active">
                                                <a href="#tab_1_1" id='tabcheck1_1' data-toggle="tab"> 流程信息
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#tab_1_2" id='tabcheck1_2' data-toggle="tab"> 输入参数 </a>
                                            </li>
                                            <li>
                                                <a href="#tab_1_3" id='tabcheck1_3' data-toggle="tab"> 临时变量 </a>
                                            </li>
                                            <li>
                                                <a href="#tab_1_4" id='tabcheck1_4' data-toggle="tab"> 输出参数 </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane fade active in" id="tab_1_1">
                                                <div hidden class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">GUID</label>
                                                    <div class="col-md-9">
                                                        <input hidden="hidden" type="text" id="id" name="id" value="{{workflowid}}">
                                                        <input hidden="hidden" type="text" id="error" name="error" value="{{error}}">
                                                        <input hidden="hidden" type="text" id="workflowData" name="workflowData" value="{{workflowData}}">
                                                        <input readonly id="guid" type="text" name="guid"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">父节点</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="pnode" type="text" name="pnode"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">创建时间</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="createtime" type="text" name="createtime"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">创建人</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="createuser" type="text" name="createuser"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">更新时间</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="updatetime" type="text" name="updatetime"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">更新人</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="updateuser" type="text" name="updateuser"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>名称</label>
                                                    <div class="col-md-9">
                                                        <input id="shortname" type="text" name="shortname"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>用户级别</label>
                                                    <div class="col-md-9">
                                                        <select class="form-control" id="owner" name="owner">
                                                            <option value="SYSTEM">系统级</option>
                                                            <option value="USER">用户级</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">图标</label>
                                                    <div class="col-md-9">
                                                        <input id="icon" type="text" name="icon" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">版本</label>
                                                    <div class="col-md-9">
                                                        <input id="version" type="text" name="version"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">可用角色</label>
                                                    <div class="col-md-9">

                                                        <select name="group" id="group" class="form-control"  multiple>
                                                            <option value="">无</option>
                                                            {% for group in grouplist %}
                                                                <option value="{{ group.id }}">{{ group.name }}</option>
                                                            {% endfor %}
                                                        </select>
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"
                                                           for="form_control_1">说明</label>
                                                    <div class="col-md-9">
                                                        <textarea class="form-control" placeholder="最大限制2500个汉字"
                                                                  rows="4" id="remark" name="remark"></textarea>
                                                        <div class="form-control-focus"></div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="tab_1_2">
                                                <div class="form-group" style="margin-left:0px;margin-right:0px">
                                                    <div class="col-md-12">
                                                        <select id="workflow_input" size="10" class="form-control"
                                                                style="overflow-y:auto;">

                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>参数编码</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_input_isnew" hidden value="0">
                                                        <input id="workflow_input_code" type="text"
                                                               name="workflow_input_code" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>参数名称</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_input_name" type="text"
                                                               name="workflow_input_name" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>数据类型</label>
                                                    <div class="col-md-9">
                                                        <select class="form-control" id="workflow_input_type"
                                                                name="workflow_input_type">
                                                            <option value="int">整数(int)</option>
                                                            <option value="decimal">小数(decimal)</option>
                                                            <option value="datetime">时间(datetime)</option>
                                                            <option value="bool">布尔(bool)</option>
                                                            <option value="int">小数(decimal)</option>
                                                            <option value="json">json</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>数据来源</label>
                                                    <div class="col-md-9">
                                                        <select class="form-control" id="workflow_input_source"
                                                                name="workflow_input_source">
                                                            <option value="input">用户输入</option>
                                                            <option value="constant">常数</option>
                                                            <option value="function">公式</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label id="workflow_input_value_lable"
                                                           class="col-md-3 control-label">默认值</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_input_value" type="text"
                                                               name="workflow_input_value" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">序号</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_input_sort" type="number"
                                                               name="workflow_input_sort" class="form-control "
                                                               placeholder="" value="1">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"
                                                           for="form_control_1">说明</label>
                                                    <div class="col-md-9">
                                                        <textarea class="form-control" placeholder="最大限制2500个汉字"
                                                                  rows="4" id="workflow_input_remark"
                                                                  name="workflow_input_remark"></textarea>
                                                        <div class="form-control-focus"></div>

                                                    </div>
                                                </div>
                                                <div class="form-group " style="margin-right:0px;text-align:center">
                                                    <button type="button" id="workflow_input_new"
                                                            name="workflow_input_new" class="btn green">
                                                        新增
                                                    </button>
                                                    <button type="button" id="workflow_input_del"
                                                            name="workflow_input_del" class="btn green">
                                                        删除
                                                    </button>
                                                    <button type="button" id="workflow_input_save"
                                                            name="workflow_input_save" class="btn green">
                                                        确定
                                                    </button>
                                                </div>

                                            </div>
                                            <div class="tab-pane fade " id="tab_1_3">
                                                <div class="form-group" style="margin-left:0px;margin-right:0px">
                                                    <div class="col-md-12">
                                                        <select id="workflow_variable" size="10" class="form-control"
                                                                style="overflow-y:auto;">

                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>参数编码</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_variable_isnew" hidden value="0">
                                                        <input id="workflow_variable_code" type="text"
                                                               name="workflow_variable_code" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>参数名称</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_variable_name" type="text"
                                                               name="workflow_variable_name" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>数据类型</label>
                                                    <div class="col-md-9">
                                                        <select class="form-control" id="workflow_variable_type"
                                                                name="workflow_variable_type">
                                                            <option value="int">整数(int)</option>
                                                            <option value="decimal">小数(decimal)</option>
                                                            <option value="datetime">时间(datetime)</option>
                                                            <option value="bool">布尔(bool)</option>
                                                            <option value="int">小数(decimal)</option>
                                                            <option value="json">json</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">默认值</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_variable_value" type="text"
                                                               name="workflow_variable_value" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">序号</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_variable_sort" type="number"
                                                               name="workflow_variable_sort" class="form-control "
                                                               placeholder="" value="1">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"
                                                           for="form_control_1">说明</label>
                                                    <div class="col-md-9">
                                                        <textarea class="form-control" placeholder="最大限制2500个汉字"
                                                                  rows="4" id="workflow_variable_remark"
                                                                  name="workflow_variable_remark"></textarea>
                                                        <div class="form-control-focus"></div>

                                                    </div>
                                                </div>
                                                <div class="form-group " style="margin-right:0px;text-align:center">
                                                    <button type="button" id="workflow_variable_new"
                                                            name="workflow_variable_new" class="btn green">
                                                        新增
                                                    </button>
                                                    <button type="button" id="workflow_variable_del"
                                                            name="workflow_variable_del" class="btn green">
                                                        删除
                                                    </button>
                                                    <button type="button" id="workflow_variable_save"
                                                            name="workflow_variable_save" class="btn green">
                                                        确定
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="tab-pane fade " id="tab_1_4">
                                                <div class="form-group" style="margin-left:0px;margin-right:0px">
                                                    <div class="col-md-12">
                                                        <select id="workflow_output" size="10" class="form-control"
                                                                style="overflow-y:auto;">

                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>参数编码</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_output_isnew" hidden value="0">
                                                        <input id="workflow_output_code" type="text"
                                                               name="workflow_output_code" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>参数名称</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_output_name" type="text"
                                                               name="workflow_output_name" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>数据类型</label>
                                                    <div class="col-md-9">
                                                        <select class="form-control" id="workflow_output_type"
                                                                name="workflow_output_type">
                                                            <option value="int">整数(int)</option>
                                                            <option value="decimal">小数(decimal)</option>
                                                            <option value="datetime">时间(datetime)</option>
                                                            <option value="bool">布尔(bool)</option>
                                                            <option value="int">小数(decimal)</option>
                                                            <option value="json">json</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>数据来源</label>
                                                    <div class="col-md-9">
                                                        <select class="form-control" id="workflow_output_source"
                                                                name="workflow_output_source">
                                                            <option value="constant">常数</option>
                                                            <option value="function">公式</option>
                                                            <option value="workfolwInput">流程输入</option>
                                                            <option value="workfolwVariable">流程变量</option>
                                                            <option value="stepOutput">步骤输出</option>

                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label id="workflow_output_value_lable"
                                                           class="col-md-3 control-label">值</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_output_value" type="text"
                                                               name="workflow_output_value" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">序号</label>
                                                    <div class="col-md-9">
                                                        <input id="workflow_output_sort" type="number"
                                                               name="workflow_output_sort" class="form-control "
                                                               placeholder="" value="1">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"
                                                           for="form_control_1">说明</label>
                                                    <div class="col-md-9">
                                                        <textarea class="form-control" placeholder="最大限制2500个汉字"
                                                                  rows="4" id="workflow_output_remark"
                                                                  name="workflow_output_remark"></textarea>
                                                        <div class="form-control-focus"></div>

                                                    </div>
                                                </div>
                                                <div class="form-group " style="margin-right:0px;text-align:center">
                                                    <button type="button" id="workflow_output_new"
                                                            name="workflow_output_new" class="btn green">
                                                        新增
                                                    </button>
                                                    <button type="button" id="workflow_output_del"
                                                            name="workflow_output_del" class="btn green">
                                                        删除
                                                    </button>
                                                    <button type="button" id="workflow_output_save"
                                                            name="workflow_output_save" class="btn green">
                                                        确定
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div id="div_node" hidden class="tab " role="tabpanel">
                                        <ul id="navtabs2" class="nav nav-tabs ">
                                            <li class="active">
                                                <a href="#tab_2_1" id='tabcheck2_1' data-toggle="tab"> 步骤信息
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#tab_2_2" id='tabcheck2_2' data-toggle="tab"> 输入参数 </a>
                                            </li>
                                            <li>
                                                <a href="#tab_2_3" id='tabcheck2_3' data-toggle="tab"> 输出参数 </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane fade active in" id="tab_2_1">
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">步骤类型</label>
                                                    <div class="col-md-9">
                                                        <select disabled class="form-control" id="step_modeltype" name="step_modeltype">
                                                            <option value="CONTROL">控件</option>
                                                            <option value="COMPONENT">组件</option>
                                                            <option value="WORKFLOW">子流程</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">模板ID</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="step_guid" type="text" name="step_guid"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">模板名称</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="step_modelname" type="text" name="step_modelname"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">步骤编号</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="step_stepid" type="text" name="step_stepid"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label"><span
                                                            style="color:red; ">*</span>步骤名称</label>
                                                    <div class="col-md-9">
                                                        <input id="step_name" type="text" name="step_name"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="tab_2_2">
                                                <div id="stepinput_if">
                                                    <div class="form-group" style="margin-left:0px;margin-right:0px">
                                                        <div class="col-md-12">
                                                            <select id="step_criteria" size="10" class="form-control"
                                                                    style="overflow-y:auto;">

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>判断名称</label>
                                                        <div class="col-md-9">
                                                            <input hidden id="step_criteria_id">
                                                            <input id="step_criteria_isnew" hidden value="0">
                                                            <input readonly id="step_criteria_name" type="text"
                                                                   name="step_criteria_name" class="form-control "
                                                                   placeholder="">
                                                            <div class="form-control-focus"></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>逻辑符</label>
                                                        <div class="col-md-9">
                                                            <select disabled class="form-control" id="step_criteria_logic"
                                                                    name="step_criteria_logic">
                                                                <option value="and">与(and)</option>
                                                                <option value="or">或(or)</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>数据类型</label>
                                                        <div class="col-md-9">

                                                            <select disabled class="form-control" id="step_criteria_type"
                                                                    name="step_criteria_type">
                                                                <option value="int">整数(int)</option>
                                                                <option value="decimal">小数(decimal)</option>
                                                                <option value="datetime">时间(datetime)</option>
                                                                <option value="bool">布尔(bool)</option>
                                                                <option value="int">小数(decimal)</option>
                                                                <option value="json">json</option>

                                                            </select>
                                                        </div>
                                                    </div>

                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>左侧来源</label>
                                                        <div class="col-md-9">
                                                            <select disabled class="form-control" id="step_criteria_source_left"
                                                                    name="step_criteria_source_left">
                                                                <option value="constant">常数</option>
                                                                <option value="function">公式</option>
                                                                <option value="workfolwInput">流程输入</option>
                                                                <option value="workfolwVariable">流程变量</option>
                                                                <option value="stepOutput">步骤输出</option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label
                                                               class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>左侧值</label>
                                                        <div class="col-md-9">
                                                            <input readonly id="step_criteria_value_left" type="text"
                                                                   name="step_criteria_value_left" class="form-control "
                                                                   placeholder="">
                                                            <div class="form-control-focus"></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>操作符</label>
                                                        <div class="col-md-9">
                                                            <select disabled class="form-control" id="step_criteria_char"
                                                                    name="step_criteria_char">
                                                                <option value="==">等于(==)</option>
                                                                <option value=">">大于(>)</option>
                                                                <option value=">=">大于等于(>=)</option>
                                                                <option value="<">小于(<)</option>
                                                                <option value="<=">小于等于(<=)</option>
                                                                <option value="!=">不等于(!=)</option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>右侧来源</label>
                                                        <div class="col-md-9">
                                                            <select disabled class="form-control" id="step_criteria_source_right"
                                                                    name="step_criteria_source_right">
                                                                <option value="constant">常数</option>
                                                                <option value="function">公式</option>
                                                                <option value="workfolwInput">流程输入</option>
                                                                <option value="workfolwVariable">流程变量</option>
                                                                <option value="stepOutput">步骤输出</option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label id="step_criteria_value_right_lable"
                                                               class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>右侧值</label>
                                                        <div class="col-md-9">
                                                            <input readonly id="step_criteria_value_right" type="text"
                                                                   name="step_criteria_value_right" class="form-control "
                                                                   placeholder="">
                                                            <div class="form-control-focus"></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group " style="margin-right:0px;text-align:center">
                                                        <button type="button" id="step_criteria_new"
                                                                name="step_criteria_new" class="btn green">
                                                            新增
                                                        </button>
                                                        <button type="button" id="step_criteria_del"
                                                                name="step_criteria_del" class="btn green">
                                                            删除
                                                        </button>
                                                        <button type="button" id="step_criteria_save"
                                                                name="step_criteria_save" class="btn green">
                                                            确定
                                                        </button>
                                                    </div>

                                                </div>
                                                <div id="stepinput_others">
                                                    <div class="form-group" style="margin-left:0px;margin-right:0px">
                                                        <div class="col-md-12">
                                                            <select id="step_input" size="10" class="form-control"
                                                                    style="overflow-y:auto;">

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label">参数编码</label>
                                                        <div class="col-md-9">
                                                            <input readonly id="step_input_code" type="text"
                                                                   name="step_input_code" class="form-control "
                                                                   placeholder="">
                                                            <div class="form-control-focus"></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label">参数名称</label>
                                                        <div class="col-md-9">
                                                            <input readonly id="step_input_name" type="text"
                                                                   name="step_input_name" class="form-control "
                                                                   placeholder="">
                                                            <div class="form-control-focus"></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label">数据类型</label>
                                                        <div class="col-md-9">
                                                            <select disabled class="form-control" id="step_input_type"
                                                                    name="step_input_type">
                                                                <option value="int">整数(int)</option>
                                                                <option value="decimal">小数(decimal)</option>
                                                                <option value="datetime">时间(datetime)</option>
                                                                <option value="bool">布尔(bool)</option>
                                                                <option value="int">小数(decimal)</option>
                                                                <option value="json">json</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label class="col-md-3 control-label"><span
                                                                style="color:red; ">*</span>数据来源</label>
                                                        <div class="col-md-9">
                                                            <select disabled class="form-control" id="step_input_source"
                                                                    name="step_input_source">
                                                                <option value="constant">常数</option>
                                                                <option value="function">公式</option>
                                                                <option value="workfolwInput">流程输入</option>
                                                                <option value="workfolwVariable">流程变量</option>
                                                                <option value="stepOutput">步骤输出</option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="margin-right:0px">
                                                        <label id="step_input_value_lable"
                                                               class="col-md-3 control-label">值</label>
                                                        <div class="col-md-9">
                                                            <input readonly id="step_input_value" type="text"
                                                                   name="step_input_value" class="form-control "
                                                                   placeholder="">
                                                            <div class="form-control-focus"></div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane fade " id="tab_2_3">
                                                <div class="form-group" style="margin-left:0px;margin-right:0px">
                                                    <div class="col-md-12">
                                                        <select id="step_output" size="10" class="form-control"
                                                                style="overflow-y:auto;">

                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">参数编码</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="step_output_code" type="text"
                                                               name="step_output_code" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">参数名称</label>
                                                    <div class="col-md-9">
                                                        <input readonly id="step_output_name" type="text"
                                                               name="step_output_name" class="form-control "
                                                               placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">数据类型</label>
                                                    <div class="col-md-9">
                                                        <select disabled class="form-control" id="step_output_type"
                                                                name="step_output_type">
                                                            <option value="int">整数(int)</option>
                                                            <option value="decimal">小数(decimal)</option>
                                                            <option value="datetime">时间(datetime)</option>
                                                            <option value="bool">布尔(bool)</option>
                                                            <option value="int">小数(decimal)</option>
                                                            <option value="json">json</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">目标变量</label>
                                                    <div class="col-md-9">
                                                        <select disabled class="form-control" id="step_output_to"
                                                                name="step_output_to">
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">输出方式</label>
                                                    <div class="col-md-9">
                                                        <select disabled class="form-control" id="step_output_to_type"
                                                                name="step_output_to_type">
                                                            <option value="cover">覆盖</option>
                                                            <option value="add">追加</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div id="div_line" hidden class="tab " role="tabpanel">
                                        <ul id="navtabs3" class="nav nav-tabs ">
                                            <li class="active">
                                                <a href="#tab_3_1" id='tabcheck3_1' data-toggle="tab"> 线条信息
                                                </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane fade active in" id="tab_3_1">
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">起点</label>
                                                    <div class="col-md-9">
                                                        <input hidden="hidden" type="text" id="line_from" name="line_from">
                                                        <input readonly id="line_from_name" type="text" name="line_from_name"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:0px">
                                                    <label class="col-md-3 control-label">终点</label>
                                                    <div class="col-md-9">
                                                        <input hidden="hidden" type="text" id="line_to" name="line_to">
                                                        <input readonly id="line_to_name" type="text" name="line_to_name"
                                                               class="form-control " placeholder="">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div id="div_criteria" class="form-group" style="margin-right:0px">
                                            <label class="col-md-3 control-label"><span
                                                    style="color:red; ">*</span>条件</label>
                                            <div class="col-md-9">
                                                <select class="form-control" id="line_criteria"
                                                        name="line_criteria">
                                                </select>
                                            </div>
                                        </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>


                </div>
                <textarea id="mySavedModel" hidden style="width:100%;height:300px">
                                       { "class": "GraphLinksModel",
"linkFromPortIdProperty": "fromPort",
"linkToPortIdProperty": "toPort",
"nodeDataArray": [
{"category":"for","modeltype":"CONTROL","modelguid":"0aa259dc-50ad-11eb-a8a3-84fdd1a17907","modelname":"循环", "text":"循环", "geo":"for", "color":"#2a6dc0", "key":-5, "loc":"-162.96388539139508 -123.7122116853875","output":[],"input":[]},
{"category":"component","modeltype":"COMPONENT","modelguid":"1c4ff8cc-44cf-11eb-acec-84fdd1a17907", "modelname":"加1","text":"加1", "guid":"swerswersrsdf", "geo":"cogs", "color":"#2a6dc0", "key":-6, "loc":"-162.96388539139508 -7.712211685387501","output":[{"code":"outputnum","name":"输出数字","type":"int","remark":"","sort":"3","to":"num","totype":"cover"}],"input":[{"code":"inputnum","name":"输入数字","type":"int","source":"workfolwVariable","value":"","remark":"","sort":"3"}]},
{"category":"workflowEnd","modeltype":"CONTROL","modelguid":"69255378-44ce-11eb-9203-84fdd1a17907", "modelname":"结束","text":"结束", "geo":"workflowEnd", "color":"#2a6dc0", "key":-8, "loc":"-4.963885391395024 -127.7122116853875","output":[],"input":[]},
{"category":"break","modeltype":"CONTROL","modelguid":"bc3ffd80-50c8-11eb-85b6-84fdd1a17907","modelname":"跳出", "text":"跳出", "geo":"break", "color":"#2a6dc0", "key":-9, "loc":"-2.9638853913950243 112.28778831461253","output":[],"input":[]},
{"category":"workflowStart","modeltype":"CONTROL","modelguid":"ef81b0de-44cc-11eb-9c38-84fdd1a17907", "modelname":"开始","text":"开始", "geo":"workflowStart", "color":"#2a6dc0", "key":-10, "loc":"-415.9638853913951 -123.7122116853875","output":[],"input":[]},
{"category":"if","modeltype":"CONTROL","modelguid":"c2d3f2b6-49a9-11eb-99aa-84fdd1a17907", "modelname":"判断","text":"判断", "geo":"if", "color":"#2a6dc0", "key":-11, "loc":"-162.96388539139508 115.2877883146125","output":[],"input":[{"code":"criteria","name":"判断条件","type":"list","source":"constant","value":[{"id":"1","name":"test","type":"int","left_source":"workfolwVariable","left_value":"number","right_source":"constant","right_value":5,"char":">","logic":"and"}],"remark":"","sort":"3"}]}
],
"linkDataArray": [
{"from":-5, "to":-6, "fromPort":"B", "toPort":"T", "text":"继续","criteria":"false","visible":true, "points":[-162.96388539139508,-83.91335456868829,-162.96388539139508,-73.91335456868829,-162.96388539139508,-66.71221168538753,-162.96388539139508,-66.71221168538753,-162.96388539139508,-57.511068802086726,-162.96388539139508,-47.511068802086726]},
{"from":-5, "to":-8, "fromPort":"R", "toPort":"L", "text":"结束","criteria":"true","visible":true, "points":[-132.96388539139508,-123.7122116853875,-122.96388539139508,-123.7122116853875,-84.96388539139502,-123.7122116853875,-84.96388539139502,-127.71221168538744,-44.963885391395024,-127.71221168538744,-34.963885391395024,-127.71221168538744]},
{"from":-9, "to":-8, "fromPort":"T", "toPort":"B", "points":[-2.9638853913950243,72.4889311979133,-2.9638853913950243,62.4889311979133,-2.9638853913950243,-7.712211685387466,-4.963885391395024,-7.712211685387466,-4.963885391395024,-77.91335456868823,-4.963885391395024,-87.91335456868823]},
{"from":-10, "to":-5, "fromPort":"R", "toPort":"L", "points":[-385.963885391395,-123.7122116853875,-375.963885391395,-123.7122116853875,-289.463885391395,-123.7122116853875,-289.463885391395,-123.7122116853875,-202.96388539139508,-123.7122116853875,-192.96388539139508,-123.7122116853875]},
{"from":-6, "to":-11, "fromPort":"B", "toPort":"T", "points":[-162.96388539139508,32.08664543131171,-162.96388539139508,42.08664543131171,-162.96388539139508,53.78778831461249,-162.96388539139508,53.78778831461249,-162.96388539139508,65.48893119791327,-162.96388539139508,75.48893119791327]},
{"from":-11, "to":-9, "fromPort":"R", "toPort":"L", "text":"Yes","criteria":"true","visible":true, "points":[-132.96388539139508,115.2877883146125,-122.96388539139508,115.2877883146125,-82.96388539139505,115.2877883146125,-82.96388539139505,112.28778831461253,-42.963885391395024,112.28778831461253,-32.963885391395024,112.28778831461253]},
{"from":-11, "to":-5, "fromPort":"L", "toPort":"L", "text":"No","criteria":"false","visible":true, "points":[-192.96388539139508,115.2877883146125,-202.96388539139508,115.2877883146125,-207.71388539139508,115.2877883146125,-207.71388539139508,-123.7122116853875,-202.96388539139508,-123.7122116853875,-192.96388539139508,-123.7122116853875]}
]}
                </textarea>


            </div>
        </div>
    </div>

    <div id="modal_workflowinput" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
         aria-labelledby="ModalLabel">
        <div class="modal-dialog modal-lg" style="width:1200px;" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="ModalLabel">流程输入</h4>
                </div>
                <table class="table table-striped table-bordered table-hover table-checkable order-column"
                       id="table_workflowinput" style="white-space:nowrap;overflow:hidden;">
                    <thead>
                    <tr>
                        <th> 参数代码</th>
                        <th> 参数名称</th>
                        <th> 参数类型</th>
                        <th> 备注</th>
                        <th style="width:50px;"> 操作</th>
                    </tr>
                    </thead>

                    <tbody>

                    </tbody>
                </table>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div id="modal_workfolwvariable" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
         aria-labelledby="ModalLabel">
        <div class="modal-dialog modal-lg" style="width:1200px;" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="ModalLabel">流程变量</h4>
                </div>
                <table class="table table-striped table-bordered table-hover table-checkable order-column"
                       id="table_workfolwvariable" style="white-space:nowrap;overflow:hidden;">
                    <thead>
                    <tr>
                        <th> 变量代码</th>
                        <th> 变量名称</th>
                        <th> 变量类型</th>
                        <th> 备注</th>
                        <th style="width:50px;"> 操作</th>
                    </tr>
                    </thead>

                    <tbody>

                    </tbody>
                </table>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div id="modal_stepoutput" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
         aria-labelledby="ModalLabel">
        <div class="modal-dialog modal-lg" style="width:1200px;" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="ModalLabel">步骤输出</h4>
                </div>
                <div class="panel-body">
                    <div>
                        <div style="float:left">
                            <label  style="margin-top: 6px">步骤：</label>

                        </div>
                        <div style="float:left">

                            <select style="width: 200px" class="form-control" id="modal_stepoutput_step"
                                    name="modal_stepoutput_step">

                            </select>
                        </div>
                    </div>
                    <table class="table table-striped table-bordered table-hover table-checkable order-column"
                           id="table_stepoutput" style="white-space:nowrap;overflow:hidden;">
                        <thead>
                        <tr>
                            <th> 参数代码</th>
                            <th> 参数名称</th>
                            <th> 参数类型</th>
                            <th> 备注</th>
                            <th style="width:50px;"> 操作</th>
                        </tr>
                        </thead>

                        <tbody>

                        </tbody>
                    </table>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script>
    //var workflowData=JSON.parse($('#workflowData').value());
    </script>

    <link href="/static/assets/global/plugins/jquery-multi-select/css/multi-select.css" rel="stylesheet"
          type="text/css"/>
    <link href="/static/assets/global/plugins/jstree/dist/themes/default/style.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="/static/assets/global/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet"
          type="text/css"/>

    <script src="/static/assets/global/scripts/app.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jstree/dist/jstree.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jquery-multi-select/js/jquery.multi-select.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jquery-multi-select/js/jquery.quicksearch.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/select2/js/select2.full.min.js" type="text/javascript"></script>
    <script src="/static/pages/js/components-select2.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/bootstrap-contextmenu/bootstrap-contextmenu.js"
            type="text/javascript"></script>
    #<link href="/static/pages/css/workflow.css" rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/jquery-ui/jquery-ui.min.css" rel="stylesheet" type="text/css">
    <script src="/static/assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/gojs/icons.js"></script>
    <script src="/static/assets/global/plugins/gojs/go-debug.js"></script>
    <script src="/static/pages/js/DataInspector.js" type="text/javascript"></script>


{% endblock %}
